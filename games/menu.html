<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë©”ë‰´ ì¶”ì²œ - ë¯¸ë‹ˆê²Œì„ ì²œêµ­</title>
    <link rel="stylesheet" href="../styles/game-common.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        .filter-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .filter-group {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .filter-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .filter-option input[type="checkbox"],
        .filter-option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--accent-primary);
        }

        .filter-option label {
            cursor: pointer;
            color: var(--text-secondary);
            flex: 1;
        }

        .recommendation-card {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            margin: 2rem 0;
            display: none;
        }

        .recommendation-card.show {
            display: block;
            animation: scaleIn 0.5s ease;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .recommendation-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .recommendation-name {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .recommendation-category {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .recommendation-description {
            font-size: 1.1rem;
            opacity: 0.8;
            line-height: 1.6;
        }

        .recommend-button {
            font-size: 1.3rem;
            padding: 1.25rem 3rem;
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div class="game-header">
            <a href="../index.html" class="back-button">â† ë©”ì¸ìœ¼ë¡œ</a>
            <h1 class="game-title">ğŸ½ï¸ ë©”ë‰´ ì¶”ì²œ</h1>
            <p class="game-description">ì˜¤ëŠ˜ ë­ ë¨¹ì„ì§€ ê³ ë¯¼ë  ë•Œ!</p>
        </div>

        <div class="game-board">
            <div class="filter-section">
                <div class="filter-group">
                    <div class="filter-title">ğŸœ ì¢…ë¥˜</div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="korean" value="korean" checked>
                            <label for="korean">í•œì‹</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="chinese" value="chinese" checked>
                            <label for="chinese">ì¤‘ì‹</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="japanese" value="japanese" checked>
                            <label for="japanese">ì¼ì‹</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="western" value="western" checked>
                            <label for="western">ì–‘ì‹</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="snack" value="snack" checked>
                            <label for="snack">ë¶„ì‹</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">ğŸ’° ê°€ê²©ëŒ€</div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="radio" name="price" id="price-low" value="low" checked>
                            <label for="price-low">ì €ë ´ (~10,000ì›)</label>
                        </div>
                        <div class="filter-option">
                            <input type="radio" name="price" id="price-mid" value="mid">
                            <label for="price-mid">ë³´í†µ (10,000~20,000ì›)</label>
                        </div>
                        <div class="filter-option">
                            <input type="radio" name="price" id="price-high" value="high">
                            <label for="price-high">ê³ ê¸‰ (20,000ì›~)</label>
                        </div>
                        <div class="filter-option">
                            <input type="radio" name="price" id="price-any" value="any">
                            <label for="price-any">ìƒê´€ì—†ìŒ</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">ğŸŒ¶ï¸ ë§µê¸°</div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="radio" name="spicy" id="spicy-no" value="no" checked>
                            <label for="spicy-no">ì•ˆ ë§¤ìš´ ê²ƒ</label>
                        </div>
                        <div class="filter-option">
                            <input type="radio" name="spicy" id="spicy-mild" value="mild">
                            <label for="spicy-mild">ì•½ê°„ ë§¤ìš´ ê²ƒ</label>
                        </div>
                        <div class="filter-option">
                            <input type="radio" name="spicy" id="spicy-hot" value="hot">
                            <label for="spicy-hot">ë§¤ìš´ ê²ƒ</label>
                        </div>
                        <div class="filter-option">
                            <input type="radio" name="spicy" id="spicy-any" value="any">
                            <label for="spicy-any">ìƒê´€ì—†ìŒ</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="recommendation-card" id="recommendation-card">
                <div class="recommendation-icon" id="rec-icon">ğŸœ</div>
                <div class="recommendation-name" id="rec-name">ë¼ë©´</div>
                <div class="recommendation-category" id="rec-category">í•œì‹ Â· ì €ë ´</div>
                <div class="recommendation-description" id="rec-description">ê°„ë‹¨í•˜ê³  ë§›ìˆëŠ” í•œ ë¼!</div>
            </div>

            <div class="controls">
                <button class="button recommend-button" onclick="getRecommendation()">ë©”ë‰´ ì¶”ì²œë°›ê¸°! ğŸ²</button>
            </div>
        </div>
    </div>

    <script>
        const menuDatabase = [
            // Korean
            { name: 'ê¹€ì¹˜ì°Œê°œ', icon: 'ğŸ²', category: 'korean', price: 'low', spicy: 'mild', desc: 'í•œêµ­ì¸ì˜ ì†Œìš¸í‘¸ë“œ!' },
            { name: 'ëœì¥ì°Œê°œ', icon: 'ğŸ²', category: 'korean', price: 'low', spicy: 'no', desc: 'êµ¬ìˆ˜í•œ ë§›ì˜ ì •ì„' },
            { name: 'ì‚¼ê²¹ì‚´', icon: 'ğŸ¥“', category: 'korean', price: 'mid', spicy: 'no', desc: 'ê³ ê¸° ë¨¹ê³  ì‹¶ì„ ë•Œ!' },
            { name: 'ë¶ˆê³ ê¸°', icon: 'ğŸ¥©', category: 'korean', price: 'mid', spicy: 'no', desc: 'ë‹¬ì½¤í•œ í•œì‹ì˜ ëŒ€í‘œ' },
            { name: 'ë¹„ë¹”ë°¥', icon: 'ğŸš', category: 'korean', price: 'low', spicy: 'mild', desc: 'ì˜ì–‘ ë§Œì  í•œ ê·¸ë¦‡' },
            { name: 'ëƒ‰ë©´', icon: 'ğŸœ', category: 'korean', price: 'mid', spicy: 'mild', desc: 'ì‹œì›í•œ ë©´ ìš”ë¦¬' },
            { name: 'ê°ˆë¹„íƒ•', icon: 'ğŸ–', category: 'korean', price: 'high', spicy: 'no', desc: 'ë“ ë“ í•œ ë³´ì–‘ì‹' },
            { name: 'ë–¡ë³¶ì´', icon: 'ğŸŒ¶ï¸', category: 'snack', price: 'low', spicy: 'hot', desc: 'ë§¤ì½¤ë‹¬ì½¤í•œ ë¶„ì‹' },

            // Chinese
            { name: 'ì§œì¥ë©´', icon: 'ğŸœ', category: 'chinese', price: 'low', spicy: 'no', desc: 'êµ­ë¯¼ ì¤‘ì‹ ë©”ë‰´' },
            { name: 'ì§¬ë½•', icon: 'ğŸœ', category: 'chinese', price: 'low', spicy: 'hot', desc: 'ì–¼í°í•œ í•´ë¬¼ êµ­ë¬¼' },
            { name: 'íƒ•ìˆ˜ìœ¡', icon: 'ğŸ–', category: 'chinese', price: 'mid', spicy: 'no', desc: 'ë°”ì‚­í•œ íŠ€ê¹€ ìš”ë¦¬' },
            { name: 'ë§ˆë¼íƒ•', icon: 'ğŸŒ¶ï¸', category: 'chinese', price: 'mid', spicy: 'hot', desc: 'ì¤‘ë…ì„± ìˆëŠ” ë§¤ìš´ë§›' },
            { name: 'ì–‘ì¥í”¼', icon: 'ğŸ¥—', category: 'chinese', price: 'mid', spicy: 'no', desc: 'ì‹œì›í•œ ì¤‘ì‹ ìƒëŸ¬ë“œ' },

            // Japanese
            { name: 'ì´ˆë°¥', icon: 'ğŸ£', category: 'japanese', price: 'high', spicy: 'no', desc: 'ì‹ ì„ í•œ íšŒì˜ ë§›' },
            { name: 'ë¼ë©˜', icon: 'ğŸœ', category: 'japanese', price: 'mid', spicy: 'no', desc: 'ì§„í•œ êµ­ë¬¼ì˜ ë©´ ìš”ë¦¬' },
            { name: 'ëˆì¹´ì¸ ', icon: 'ğŸ›', category: 'japanese', price: 'mid', spicy: 'no', desc: 'ë°”ì‚­í•œ ì¼ì‹ ëˆê¹ŒìŠ¤' },
            { name: 'ìš°ë™', icon: 'ğŸœ', category: 'japanese', price: 'low', spicy: 'no', desc: 'ë‹´ë°±í•œ ë©´ ìš”ë¦¬' },
            { name: 'ì¹´ë ˆ', icon: 'ğŸ›', category: 'japanese', price: 'low', spicy: 'mild', desc: 'ë¶€ë“œëŸ¬ìš´ ì¼ë³¸ì‹ ì¹´ë ˆ' },

            // Western
            { name: 'í”¼ì', icon: 'ğŸ•', category: 'western', price: 'mid', spicy: 'no', desc: 'ì¹˜ì¦ˆ ê°€ë“í•œ ì´íƒˆë¦¬ì•ˆ' },
            { name: 'íŒŒìŠ¤íƒ€', icon: 'ğŸ', category: 'western', price: 'mid', spicy: 'no', desc: 'ë‹¤ì–‘í•œ ì†ŒìŠ¤ì˜ ë©´ ìš”ë¦¬' },
            { name: 'í–„ë²„ê±°', icon: 'ğŸ”', category: 'western', price: 'low', spicy: 'no', desc: 'ë“ ë“ í•œ íŒ¨ìŠ¤íŠ¸í‘¸ë“œ' },
            { name: 'ìŠ¤í…Œì´í¬', icon: 'ğŸ¥©', category: 'western', price: 'high', spicy: 'no', desc: 'ê³ ê¸‰ ìœ¡ì¦™ ìš”ë¦¬' },
            { name: 'ìƒëŸ¬ë“œ', icon: 'ğŸ¥—', category: 'western', price: 'mid', spicy: 'no', desc: 'ê±´ê°•í•œ í•œ ë¼' },

            // Snack
            { name: 'ê¹€ë°¥', icon: 'ğŸ™', category: 'snack', price: 'low', spicy: 'no', desc: 'ê°„í¸í•œ í•œ ë¼' },
            { name: 'ë¼ë©´', icon: 'ğŸœ', category: 'snack', price: 'low', spicy: 'mild', desc: 'ë¹ ë¥´ê³  ë§›ìˆëŠ” ë©´' },
            { name: 'ìˆœëŒ€', icon: 'ğŸŒ­', category: 'snack', price: 'low', spicy: 'no', desc: 'í•œêµ­ì‹ ì†Œì‹œì§€' },
            { name: 'íŠ€ê¹€', icon: 'ğŸ¤', category: 'snack', price: 'low', spicy: 'no', desc: 'ë°”ì‚­í•œ ë¶„ì‹' },
        ];

        function getRecommendation() {
            // Get selected categories
            const selectedCategories = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'))
                .map(cb => cb.value);

            if (selectedCategories.length === 0) {
                alert('ìµœì†Œ í•˜ë‚˜ì˜ ìŒì‹ ì¢…ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            // Get selected price
            const selectedPrice = document.querySelector('input[name="price"]:checked').value;

            // Get selected spicy level
            const selectedSpicy = document.querySelector('input[name="spicy"]:checked').value;

            // Filter menus
            let filteredMenus = menuDatabase.filter(menu => {
                const categoryMatch = selectedCategories.includes(menu.category);
                const priceMatch = selectedPrice === 'any' || menu.price === selectedPrice;
                const spicyMatch = selectedSpicy === 'any' || menu.spicy === selectedSpicy;

                return categoryMatch && priceMatch && spicyMatch;
            });

            if (filteredMenus.length === 0) {
                // Relax constraints
                filteredMenus = menuDatabase.filter(menu =>
                    selectedCategories.includes(menu.category)
                );
            }

            if (filteredMenus.length === 0) {
                alert('ì¡°ê±´ì— ë§ëŠ” ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤. í•„í„°ë¥¼ ì¡°ì •í•´ì£¼ì„¸ìš”!');
                return;
            }

            // Random selection
            const randomMenu = filteredMenus[Math.floor(Math.random() * filteredMenus.length)];

            // Display recommendation
            document.getElementById('rec-icon').textContent = randomMenu.icon;
            document.getElementById('rec-name').textContent = randomMenu.name;

            const categoryNames = {
                korean: 'í•œì‹',
                chinese: 'ì¤‘ì‹',
                japanese: 'ì¼ì‹',
                western: 'ì–‘ì‹',
                snack: 'ë¶„ì‹'
            };

            const priceNames = {
                low: 'ì €ë ´',
                mid: 'ë³´í†µ',
                high: 'ê³ ê¸‰'
            };

            document.getElementById('rec-category').textContent =
                `${categoryNames[randomMenu.category]} Â· ${priceNames[randomMenu.price]}`;
            document.getElementById('rec-description').textContent = randomMenu.desc;

            const card = document.getElementById('recommendation-card');
            card.classList.remove('show');
            setTimeout(() => card.classList.add('show'), 10);
        }
    </script>
</body>

</html>